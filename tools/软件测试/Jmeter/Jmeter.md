[toc]

# 1 接口测试基础

## 1.1 接口测试分类

- 内部接口：测试被测系统各个子模块之间的接口，或者被测系统提供给内部系统使用的接口
- 外部接口：
  - 被测系统调用外部的接口
  - 系统对外提供的接口

接口测试的重点：<strong style="color:red">检查接口参数传递的正确性，输出结果的正确性，以及对各种异常情况的容器，以及权限控制，分页，调用次数的限制</strong>



## 1.2 目前的接口架构设计

1. 基于 SOAP 架构：基于 XML 规范，基于 WebService 协议。特点：==接口地址？wsdl 结尾==
2. 基于 RPC 架构：基于 dubbo 协议，thrift 协议。是市场上比较先进的一种接口测试方式，像 SpringCloud 微服务
3. 基于 RestFul 架构：基于 JSON 规范和 HTTP 协议，市面上应用最为广泛的一种接口测试方案。请求方法有：GET（查询）、POST（添加）、PUT（修改）、DELETE（删除），同时 JSON 数据格式也有两种数据类型，如键值对：`{key: value}`，数组：`{arr1, arr2}`



## 1.3 市面上的接口测试工具



# 2 JMeter 功能

## 2.1 JMeter 目录介绍

> 以下所使用的 JMeter 版本为 V5.5

目录结构如下：

<img src="https://theblogimage.oss-cn-fuzhou.aliyuncs.com/imagefortypora/image-20230618212320508.png" alt="image-20230618212320508" style="zoom:50%;" />

目录结构详解

- `backups`：脚本备份目录。格式为 JMX
- `bin`：存放 JMeter 的启动脚本，配置文件、模块文件等
  - jmeter.bat：程序启动文件
  - jmeter.properties：程序配置文件
- docs：离线帮助文档
- extras：存放与第三方的集成构建文件。集成 Ant、Jenkins
- lib：存放 jar 包
- licenses：许可证文件



## 2.2 JMeter 常用组件

1. 测试计划（Test plan）：所有组件的容器
2. 线程组：代表一定数量的用户
3. 取样器：向服务器发送请求的最小单元
4. 逻辑控制器：结合取样器实现一些复杂的逻辑
5. 前置处理器：在请求之前的工作
6. 后置处理器：在请求之后的工作
7. 断言：用于判断请求是否成功
8. 定时器：负责在请求之间的延迟间隔
9. 配置文件：配置信息
10. 监听器：负责收集结果



**设置顺序**

测试计划 => 线程组 => 配置元件 => 前置处理器 => 定时器 => 取样器 => 后置处理器 => 断言 => 监听器



- 必须组件：测试计划、线程组、取样器

- 辅助组件：除了必要组件外的其他组件

  > 辅助组件作用于父组件，同级组件，以及同级组件下的所有子组件



## 2.3 JMeter 执行接口测试

1. 拿到 API 接口文档 => 熟悉接口业务 => 接口地址 => 鉴权方式 => 入参 => 错误码
2. 

